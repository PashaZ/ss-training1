{"ast":null,"code":"// import React from \"react\";\n// import {useState, useEffect} from 'react'\n// const request =  (url, fetchData) => {\n//     const [status, setStatus] = useState({\n//         data: undefined,\n//         error: undefined\n//     })\n//  function fetchNow(url, fetchData){\n//     const res =  fetch(url, fetchData);\n//     const data =  res.json();\n//     if (!res.ok) {\n//       throw new Error(data.message || \"Something was wrong\");\n//     } else {\n//       return (\n//      alert (setStatus({data:data}))\n//       )\n//     //   alert(data);\n//     }\n// }\n// //   try {\n// //     if (fetchData) {\n// //       request();\n// //     }\n// //   } catch (error) {\n// //     return setStatus({error});\n// //   }\n//   useEffect(()=>{\n//       if(fetchData){\n//         fetchNow(url, fetchData)\n//       }\n//   }, [])\n// };\nfunction request(url, fetchData) {\n  const request2 = async () => {\n    const res = await fetch(url, fetchData);\n    const data = await res.json();\n\n    if (!res.ok) {\n      throw new Error(data.message || \"Something was wrong\");\n    } else {\n      return alert(data);\n    }\n  };\n\n  try {\n    if (fetchData) {\n      request2();\n    }\n  } catch (error) {\n    return error.message;\n  }\n}\n\nexport default request;","map":{"version":3,"sources":["C:/training/ss-training1/frontend/src/hooks/request.js"],"names":["request","url","fetchData","request2","res","fetch","data","json","ok","Error","message","alert","error"],"mappings":"AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,OAAT,CAAiBC,GAAjB,EAAsBC,SAAtB,EAAgC;AAChC,QAAMC,QAAQ,GAAG,YAAY;AAC3B,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAACJ,GAAD,EAAMC,SAAN,CAAvB;AACA,UAAMI,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;;AACA,QAAI,CAACH,GAAG,CAACI,EAAT,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,qBAA1B,CAAN;AACD,KAFD,MAEO;AACL,aAAOC,KAAK,CAACL,IAAD,CAAZ;AACD;AACF,GARD;;AASA,MAAI;AACF,QAAIJ,SAAJ,EAAe;AACbC,MAAAA,QAAQ;AACT;AACF,GAJD,CAIE,OAAOS,KAAP,EAAc;AACd,WAAOA,KAAK,CAACF,OAAb;AACD;AACA;;AACD,eAAeV,OAAf","sourcesContent":["\r\n// import React from \"react\";\r\n\r\n// import {useState, useEffect} from 'react'\r\n\r\n// const request =  (url, fetchData) => {\r\n//     const [status, setStatus] = useState({\r\n//         data: undefined,\r\n//         error: undefined\r\n//     })\r\n//  function fetchNow(url, fetchData){\r\n//     const res =  fetch(url, fetchData);\r\n//     const data =  res.json();\r\n//     if (!res.ok) {\r\n//       throw new Error(data.message || \"Something was wrong\");\r\n//     } else {\r\n//       return (\r\n//      alert (setStatus({data:data}))\r\n//       )\r\n//     //   alert(data);\r\n//     }\r\n// }\r\n// //   try {\r\n// //     if (fetchData) {\r\n// //       request();\r\n// //     }\r\n// //   } catch (error) {\r\n// //     return setStatus({error});\r\n// //   }\r\n//   useEffect(()=>{\r\n//       if(fetchData){\r\n//         fetchNow(url, fetchData)\r\n//       }\r\n//   }, [])\r\n// };\r\nfunction request(url, fetchData){\r\nconst request2 = async () => {\r\n  const res = await fetch(url, fetchData);\r\n  const data = await res.json();\r\n  if (!res.ok) {\r\n    throw new Error(data.message || \"Something was wrong\");\r\n  } else {\r\n    return alert(data);\r\n  }\r\n};\r\ntry {\r\n  if (fetchData) {\r\n    request2();\r\n  }\r\n} catch (error) {\r\n  return error.message;\r\n}\r\n}\r\nexport default request;"]},"metadata":{},"sourceType":"module"}